{% extends 'base.html' %}

{% block css_debug %}
{% endblock %}

{% block base_content %}
    <div x-data="{ showModal: false }" class="bg-gray-50 min-h-screen">
        <div class="container mx-auto px-4 py-16">
            <h1 class="text-4xl font-extrabold text-gray-900 mb-2">Spectrum</h1>
            <p class="mb-8 text-lg text-gray-600">Easily generate ICP profiles for students</p>

            <div class="flex space-x-4 mb-12">
                <a href="{% url 'create_icp' %}"
                   class="bg-white hover:bg-gray-100 text-black font-bold py-2 px-4 border border-black focus:outline-none">
                    Create ICP
                </a>
                <button @click="showModal = true"
                        class="bg-white hover:bg-gray-100 text-black font-bold py-2 px-4 border border-black focus:outline-none">
                    View All ICPs
                </button>
            </div>

            <div class="bg-white shadow-sm rounded-lg p-6 max-w-2xl">
                <h2 class="text-2xl font-bold text-gray-900 mb-6">Recent ICPs</h2>
                <ul class="space-y-4">
                    {% for icp in icps %}
                        <li class="flex items-center justify-between py-3 border-b border-gray-200 last:border-b-0">
                            <a href="{% url 'student_detail' icp.id %}" class="text-indigo-600 hover:text-indigo-800 font-medium">
                                {{ icp.student.name }}
                            </a>
                            <span class="text-sm text-gray-500">{{ icp.created_at|date:"M d, Y" }}</span>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </div>

        <!-- Modal -->
        <div x-show="showModal" class="fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center" x-cloak>
            <div @click.away="showModal = false" class="bg-white rounded-lg p-8 max-w-md w-full">
                <h3 class="text-2xl font-bold mb-4">All ICPs</h3>
                <p class="mb-4">This feature is coming soon!</p>
                <button @click="showModal = false" class="bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700">Close</button>
            </div>
        </div>
    </div>
{% endblock %}
